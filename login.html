<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" href="css/carrito.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        (function(){
            emailjs.init("NENyKRR8XoIRFwBZLx86X"); // 🔁 Reemplaza con tu User ID
        })();
    </script>
    <style>
        /* (Todo tu estilo original aquí) */
    </style>
</head>
<body>
    <header>
        <a href="index.html">
            <img id="logo" src="img/potsync.png" alt="Logo PotSync">
        </a>
        <div>
            <h1>PotSync</h1>
            <h3>Proceso de pago</h3>
        </div>
    </header>

    <nav>
        <div class="nav-links">
            <a href="index.html">Inicio</a>
            <a href="catalogo.html">Catálogo</a>
            <a href="equipo.html">Equipo</a>
            <a href="contacto.html">Contacto</a>
        </div>
        <a href="carrito.html"><h3>🛒 Ver Carrito</h3></a>
    </nav>

    <div class="container">
        <h1>Login</h1>

        <form id="form-pago" onsubmit="procesarPago(event)">
            <label for="nombre">Nombre completo:</label>
            <input type="text" id="nombre" name="nombre" required>

            <label for="email">Correo electrónico:</label>
            <input type="email" id="email" name="email" required>

            <button type="submit">Login</button>
        </form>
    </div>

    <script>
        function procesarPago(event) {
            event.preventDefault();

            const nombre = document.getElementById('nombre').value;
            const email = document.getElementById('email').value;

            // Enviar correo con EmailJS
            emailjs.send("service_d5n3ubw", "template_1goh9bd", {
                nombre: nombre,
                email: email
            })
            .then(function(response) {
                console.log("Correo enviado:", response.status, response.text);
                alert("Te has registrado correctamente. Revisa tu correo.");
                localStorage.setItem('datosPago', JSON.stringify({ nombre, email }));
                window.location.href = 'final.html';
            }, function(error) {
                console.error("Error al enviar:", error);
                alert("Ocurrió un error al enviar el correo.");
            });
        }
    </script>
</body>
</html>

