<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Aspersor Inteligente - PotSync</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <a href="index.html">
            <img id="logo" src="img/potsync.png" alt="Logo PotSync">
        </a>
        <div>
            <h1>PotSync</h1>
            <h3>Producto</h3>
        </div>
    </header>

    <nav>
        <div class="nav-links">
            <a href="index.html">Inicio</a>
            <a href="catalogo.html">CatÃ¡logo</a>
            <a href="equipo.html">Equipo</a>
            <a href="contacto.html">Contacto</a>
            

        </div>
        <a href="carrito.html"><h3>ðŸ›’ Ver Carrito</h3></a>
    </nav>

<button onclick="volverAtras()" style="padding: 10px 20px; background-color: forestgreen; color: white; border: none; border-radius: 5px; cursor: pointer;">
    â¬… Volver al catÃ¡logo 
</button>

    <main style="text-align: center;">
        <h2>Aspersor Inteligente</h2>
        <img src="img/p9.png" alt="Aspersor" style="width:300px;">
        <p><strong>Precio:</strong> $799 MXN</p>
        <p><strong>DescripciÃ³n:</strong> Controla el riego segÃºn las condiciones climÃ¡ticas. </p>
        <label for="cantidad1">Cantidad:</label>
        <input type="number" id="cantidad1" name="cantidad" min="1" value="1">
        <br><br>
        <button onclick="agregarAlCarrito('Aspersor Inteligente', 799, 'cantidad1')">Agregar al carrito</button>
    </main>

    <footer>Â© 2024 PotSync. Todos los derechos reservados.</footer>

    <script>
        function agregarAlCarrito(nombre, precio, inputId) {
    const cantidad = parseInt(document.getElementById(inputId).value);
    if (cantidad < 1) return;

    const producto = {
        nombre,
        precio,
        cantidad
    };

    // Obtener el carrito existente
    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

    // Verificar si ya existe el producto y sumarle cantidad
    const index = carrito.findIndex(p => p.nombre === nombre);
    if (index >= 0) {
        carrito[index].cantidad += cantidad;
    } else {
        carrito.push(producto);
    }

    // Guardar de nuevo el carrito
    localStorage.setItem('carrito', JSON.stringify(carrito));

    alert(`Agregaste ${cantidad} unidad(es) de "${nombre}" al carrito.`);
    window.location.href = 'catalogo.html';

}
function volverAtras() {
    history.back();
}
    </script>
</body>
</html>
